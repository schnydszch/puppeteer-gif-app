<!DOCTYPE html>
<html>
<head>
  <title>Search Recorder</title>
</head>
<body>
  <h2>Search Page</h2>
  <input type="text" id="searchInput" placeholder="Enter search term">
  <button id="searchBtn">Search</button>

  <script>
    const searchBtn = document.getElementById("searchBtn");

    searchBtn.addEventListener("click", async () => {
      const searchText = document.getElementById("searchInput").value;
      const response = await fetch("/record", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ searchText })
      });

      const data = await response.json();
      if (data.success) {
        const link = document.createElement("a");
        link.href = data.url;
        link.download = "recorded.mp4";
        link.textContent = "Download Video";
        document.body.appendChild(link);
      }
    });
  </script>
</body>
</html>
